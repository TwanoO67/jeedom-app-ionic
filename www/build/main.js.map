{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/pages/list/list.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/equipment/equipment.ts","../../src/services/jeedom.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 112;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 112\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 155;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 155\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\nimport { JeedomService } from '../../services/jeedom.service';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { EquipmentPage } from \"../equipment/equipment\";\n\n@Component({\n  selector: 'page-list',\n  templateUrl: 'list.html'\n})\nexport class ListPage {\n  data: any = {};\n  icons: string[];\n  items: any;// Array<{title: string, note: string, icon: string}>;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public jeedom: JeedomService) {\n    // If we navigated to this page, we will have an item available as a nav param\n    this.data = navParams.get('data');\n\n    // Let's populate this page with some filler content for funzies\n    this.icons = ['flask', 'wifi', 'beer', 'football', 'basketball', 'paper-plane',\n    'american-football', 'boat', 'bluetooth', 'build'];\n\n    this.items = [];\n\n\n\n    this.jeedom.getEquipments(this.data.id).subscribe(\n      (data: Array<any>) => {\n        console.log(data);\n        this.items = data.map((elem)=>{\n          if(elem.eqType_name === \"philipsHue\"){\n            elem.icon = 'bulb';\n          }\n          return elem;\n        });\n      }\n    );\n  }\n\n  itemTapped(event, item) {\n    console.log('tap item',item);\n    this.navCtrl.push(EquipmentPage, {\n      data: item\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\nimport { EquipmentPage } from '../pages/equipment/equipment';\n\nlet pages = [\n  MyApp,\n  HomePage,\n  ListPage,\n  EquipmentPage\n];\n\nimport { JeedomService } from '../services/jeedom.service';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\n@NgModule({\n  declarations: [\n    ...pages\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    IonicModule.forRoot(MyApp),\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    ...pages\n  ],\n  providers: [\n    StatusBar,\n    JeedomService,\n    HttpClient,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { JeedomService } from '../services/jeedom.service';\n\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = HomePage;\n\n  pages: Array<{title: string, component: any, data: any}>;\n\n  constructor(\n    public platform: Platform, \n    public statusBar: StatusBar, \n    public splashScreen: SplashScreen,\n    public jeedom: JeedomService\n  ) {\n    this.initializeApp();\n\n    // used for an example of ngFor and navigation\n    this.pages = [\n      { title: 'Accueil', component: HomePage, 'data': {} }\n    ];\n\n    this.jeedom.getFullData().subscribe(\n      (data: Array<any>) => {\n        console.log(data);\n        for (let index = 0; index < data.length; index++) {\n          let element = data[index];\n          this.pages.push({\n            'title': element.name, \n            component: ListPage,\n            'data': element\n          });\n        }\n      }\n    );\n\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n  openPage(page) {\n    // setRoot -> to reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component,{\n      data: page.data\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component } from '@angular/core';\nimport { JeedomService } from '../../services/jeedom.service';\nimport { NavController, NavParams, AlertController } from 'ionic-angular';\n\n\n@Component({\n  selector: 'page-equipment',\n  templateUrl: 'equipment.html'\n})\nexport class EquipmentPage {\n  data: any = {};\n  icons: string[];\n  items: any;// Array<{title: string, note: string, icon: string}>;\n\n  constructor(\n  public navCtrl: NavController,\n  public navParams: NavParams,\n  public jeedom: JeedomService,\n  public alertCtrl: AlertController) {\n    // If we navigated to this page, we will have an item available as a nav param\n    this.data = navParams.get('data');\n    console.log(this.data);\n\n    this.items = [];\n\n    this.jeedom.getCommands(this.data.id).subscribe(\n      (data: Array<any>) => {\n        console.log(data);\n        this.items = data.map((elem)=>{\n          if(elem.type === \"info\"){\n            elem.icon = 'information-circle';\n          }\n          else if(elem.type === \"action\"){\n            elem.icon = 'flash';\n          }\n          return elem;\n        });\n      }\n    );\n  }\n\n  itemTapped(event, item) {\n    console.log('tap item',item);\n    this.jeedom.action(item.id).subscribe((data: Array<any>) =>\n    {\n      console.log(data);\n      if(item.type == \"info\"){\n        let alert = this.alertCtrl.create({\n          title: item.name,\n          subTitle: data,\n          buttons: ['Ok']\n        });\n        alert.present();\n      }\n\n    }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/equipment/equipment.ts","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class JeedomService {\r\n    public headers: HttpHeaders;\r\n    private serverWithApiUrl: string = \"http://192.168.0.23/core/api/jeeApi.php?apikey=KLBV1d4WblTg7vIMkGcRvswpQpXdi1NZ\";\r\n\r\n    constructor(private http: HttpClient) {\r\n        this.headers = new HttpHeaders();\r\n        this.headers.append('Content-Type', 'application/json');\r\n        this.headers.append('Accept', 'application/json');\r\n    }\r\n\r\n    public setApiUrl( url: string) {\r\n      this.serverWithApiUrl = url;\r\n    }\r\n\r\n    private getActionUrl() {\r\n      return this.serverWithApiUrl;\r\n    }\r\n\r\n    public getFullData() {\r\n        return this.http.get(this.getActionUrl()+'&type=fullData', { headers: this.headers });\r\n    }\r\n\r\n    public scenario(id, action) {\r\n        return this.http.get(this.getActionUrl()+'&type=&type=scenario&id='+id+'&action='+action, { headers: this.headers });\r\n    }\r\n\r\n    public action(id) {\r\n        return this.http.get(this.getActionUrl()+'&type=cmd&id='+id, { headers: this.headers });\r\n    }\r\n\r\n    /*\r\n    query : question à poser à jeedom\r\n    utf8 [optionnel] : indique à jeedom si il faut encoder query en utf8 avant de chercher à répondre\r\n    emptyReply [optionnel] : 0 pour que jeedom réponde même si il n’a pas compris, 1 sinon\r\n    profile [optionnel] : nom d’utilisateur de la personne déclenchant l’interaction\r\n    reply_cmd [optionnel] : ID de la commande à utiliser pour répondre à la demande\r\n    */\r\n    public interaction(query , utf8?, emptyReply?, profile?, reply_cmd?) {\r\n        let url = this.getActionUrl()+'&type=interact&query='+query;\r\n        if(utf8){\r\n            url += \"utf8=\"+utf8;\r\n        }\r\n        if(emptyReply){\r\n            url += \"emptyReply=\"+emptyReply;\r\n        }\r\n        if(profile){\r\n            url += \"profile=\"+profile;\r\n        }\r\n        if(reply_cmd){\r\n            url += \"reply_cmd=\"+reply_cmd;\r\n        }\r\n        return this.http.get(url, { headers: this.headers });\r\n    }\r\n\r\n   /* \r\n   category : catégorie du message à ajouter au centre de message\r\n    message : message en question, attention à bien penser à encoder le message (espace devient %20, = %3D…\r\n    */\r\n    public message(category, message) {\r\n        return this.http.get(this.getActionUrl()+'&type=message&category='+category+'&message='+message, { headers: this.headers });\r\n    }\r\n\r\n    public getAllObject(){\r\n        return this.http.get(this.getActionUrl()+'&type=object', { headers: this.headers });\r\n    }\r\n\r\n    public getEquipments(object_id){\r\n        return this.http.get(this.getActionUrl()+'&type=eqLogic&object_id='+object_id, { headers: this.headers });\r\n    }\r\n\r\n    public getCommands(equipment_id){\r\n        return this.http.get(this.getActionUrl()+'&type=command&eqLogic_id='+equipment_id, { headers: this.headers });\r\n    }\r\n    \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/jeedom.service.ts"],"sourceRoot":""}